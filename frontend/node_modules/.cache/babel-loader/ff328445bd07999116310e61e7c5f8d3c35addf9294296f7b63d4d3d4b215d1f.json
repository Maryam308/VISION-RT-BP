{"ast":null,"code":"import { AmplifyErrorCode } from '@aws-amplify/core/internals/utils';\nimport { passkeyErrorMap, PasskeyErrorCode, PasskeyError } from './passkeyError.mjs';\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n/**\n * Handles Overlapping Passkey Errors Between Registration & Authentication\n * https://w3c.github.io/webauthn/#sctn-create-request-exceptions\n * https://w3c.github.io/webauthn/#sctn-get-request-exceptions\n *\n * @param err unknown\n * @returns PasskeyError\n */\nconst handlePasskeyError = err => {\n  if (err instanceof Error) {\n    // Passkey Operation Aborted\n    if (err.name === 'AbortError') {\n      const {\n        message,\n        recoverySuggestion\n      } = passkeyErrorMap[PasskeyErrorCode.PasskeyOperationAborted];\n      return new PasskeyError({\n        name: PasskeyErrorCode.PasskeyOperationAborted,\n        message,\n        recoverySuggestion,\n        underlyingError: err\n      });\n    }\n    // Relying Party / Domain Mismatch\n    if (err.name === 'SecurityError') {\n      const {\n        message,\n        recoverySuggestion\n      } = passkeyErrorMap[PasskeyErrorCode.RelyingPartyMismatch];\n      return new PasskeyError({\n        name: PasskeyErrorCode.RelyingPartyMismatch,\n        message,\n        recoverySuggestion,\n        underlyingError: err\n      });\n    }\n  }\n  return new PasskeyError({\n    name: AmplifyErrorCode.Unknown,\n    message: 'An unknown error has occurred.',\n    underlyingError: err\n  });\n};\nexport { handlePasskeyError };","map":{"version":3,"names":["handlePasskeyError","err","Error","name","message","recoverySuggestion","passkeyErrorMap","PasskeyErrorCode","PasskeyOperationAborted","PasskeyError","underlyingError","RelyingPartyMismatch","AmplifyErrorCode","Unknown"],"sources":["/Users/fatimaali/Desktop/VISION-RT-BP/frontend/node_modules/@aws-amplify/auth/src/client/utils/passkey/errors/handlePasskeyError.ts"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { AmplifyErrorCode } from '@aws-amplify/core/internals/utils';\nimport { PasskeyError, PasskeyErrorCode, passkeyErrorMap, } from './passkeyError';\n/**\n * Handles Overlapping Passkey Errors Between Registration & Authentication\n * https://w3c.github.io/webauthn/#sctn-create-request-exceptions\n * https://w3c.github.io/webauthn/#sctn-get-request-exceptions\n *\n * @param err unknown\n * @returns PasskeyError\n */\nexport const handlePasskeyError = (err) => {\n    if (err instanceof Error) {\n        // Passkey Operation Aborted\n        if (err.name === 'AbortError') {\n            const { message, recoverySuggestion } = passkeyErrorMap[PasskeyErrorCode.PasskeyOperationAborted];\n            return new PasskeyError({\n                name: PasskeyErrorCode.PasskeyOperationAborted,\n                message,\n                recoverySuggestion,\n                underlyingError: err,\n            });\n        }\n        // Relying Party / Domain Mismatch\n        if (err.name === 'SecurityError') {\n            const { message, recoverySuggestion } = passkeyErrorMap[PasskeyErrorCode.RelyingPartyMismatch];\n            return new PasskeyError({\n                name: PasskeyErrorCode.RelyingPartyMismatch,\n                message,\n                recoverySuggestion,\n                underlyingError: err,\n            });\n        }\n    }\n    return new PasskeyError({\n        name: AmplifyErrorCode.Unknown,\n        message: 'An unknown error has occurred.',\n        underlyingError: err,\n    });\n};\n"],"mappings":";;;AAAA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACY,MAACA,kBAAkB,GAAIC,GAAG,IAAK;EACvC,IAAIA,GAAG,YAAYC,KAAK,EAAE;IAC9B;IACQ,IAAID,GAAG,CAACE,IAAI,KAAK,YAAY,EAAE;MAC3B,MAAM;QAAEC,OAAO;QAAEC;MAAkB,CAAE,GAAGC,eAAe,CAACC,gBAAgB,CAACC,uBAAuB,CAAC;MACjG,OAAO,IAAIC,YAAY,CAAC;QACpBN,IAAI,EAAEI,gBAAgB,CAACC,uBAAuB;QAC9CJ,OAAO;QACPC,kBAAkB;QAClBK,eAAe,EAAET;MACjC,CAAa,CAAC;IACN;IACR;IACQ,IAAIA,GAAG,CAACE,IAAI,KAAK,eAAe,EAAE;MAC9B,MAAM;QAAEC,OAAO;QAAEC;MAAkB,CAAE,GAAGC,eAAe,CAACC,gBAAgB,CAACI,oBAAoB,CAAC;MAC9F,OAAO,IAAIF,YAAY,CAAC;QACpBN,IAAI,EAAEI,gBAAgB,CAACI,oBAAoB;QAC3CP,OAAO;QACPC,kBAAkB;QAClBK,eAAe,EAAET;MACjC,CAAa,CAAC;IACN;EACJ;EACA,OAAO,IAAIQ,YAAY,CAAC;IACpBN,IAAI,EAAES,gBAAgB,CAACC,OAAO;IAC9BT,OAAO,EAAE,gCAAgC;IACzCM,eAAe,EAAET;EACzB,CAAK,CAAC;AACN","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}